{"version":3,"sources":["components/Info.js","actions/actions.js","constants.js","components/Ticket.js","data/dummyTickets.js","components/Tickets.js","components/Wrapper.js","reducers/route.js","reducers/index.js","reducers/airports.js","store.js","app.js","index.js"],"names":["Info","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeOrigin","origin","setState","props","chooseAirport","handleChangeDestination","destination","state","fetchAirports","_this$props","react_default","a","createElement","Fragment","className","react_select_esm","name","value","placeholder","options","airports","onChange","Component","connect","map","airport","code","label","concat","city","country","route","dispatch","type","axios","get","then","res","payload","data","catch","err","target","Ticket","ticket","airline","timeA","dateA","timeB","dateB","class","price","dummyTickets","randomNo","Math","floor","duration","time1","Date","getTime","time2","ts1","toLocaleTimeString","undefined","hour","minute","toLocaleDateString","day","month","year","ts2","Tickets","console","log","ticketsArray","i","dummy","dummyTicketGenerator","random","push","tickets","key","components_Ticket","length","Wrapper","components_Info","components_Tickets","initialState","combineReducers","arguments","action","update","defineProperty","$set","middleware","store","next","thunk","createStore","reducer","composeWithDevTools","applyMiddleware","apply","App","es","components_Wrapper","rootElement","document","getElementById","ReactDOM","render","app"],"mappings":"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","file":"static/js/main.5d4c5442.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchAirports, chooseAirport } from \"../actions/actions\";\nimport Select from \"react-select\";\n\nclass Info extends Component {\n  constructor() {\n    super();\n    this.state = {\n      origin: \"\",\n      destination: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchAirports();\n    const { origin, destination } = this.props;\n    this.setState({ origin, destination });\n  }\n\n  handleChangeOrigin = origin => {\n    this.setState({ origin });\n    this.props.chooseAirport(\"origin\", origin);\n  };\n\n  handleChangeDestination = destination => {\n    this.setState({ destination });\n    this.props.chooseAirport(\"destination\", destination);\n  };\n\n  render() {\n    return (\n      <>\n        <i className=\"huge space shuttle icon\" />\n        <h2>Pandora Airlines</h2>\n        {/*<div className=\"ui inverted divider\" />*/}\n        <div className=\"ui form\">\n          <div className=\"two fields\">\n            <div className=\"field\">\n              <div className=\"ui labeled input\">\n                <div className=\"ui red label\">From</div>\n                <Select\n                  className=\"select-input\"\n                  name=\"origin\"\n                  value={this.state.origin}\n                  placeholder=\"Select Country\"\n                  options={this.props.airports}\n                  onChange={this.handleChangeOrigin}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n              <div className=\"ui labeled input\">\n                <div className=\"ui red label\">\n                  {\" \"}\n                  <span className=\"T\">T</span>To<span className=\"T\">T</span>\n                </div>\n                <Select\n                  className=\"select-input\"\n                  name=\"destination\"\n                  value={this.state.destination}\n                  placeholder=\"Select Country\"\n                  options={this.props.airports}\n                  onChange={this.handleChangeDestination}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  airports: state.airports.map(airport => ({\n    value: airport.code,\n    label: `${airport.city} - ${airport.country} (${airport.code})`\n  })),\n  origin: state.route.origin,\n  destination: state.route.destination\n});\n\nexport default connect(\n  mapStateToProps,\n  { fetchAirports, chooseAirport }\n)(Info);\n","import {\n  REQUEST_AIRPORTS,\n  RECEIVE_AIRPORTS,\n  CHOOSE_AIRPORTS,\n  REQUEST_TICKETS,\n  RECEIVE_TICKETS\n} from \"../constants\";\n\nimport axios from \"axios\";\n\nexport const fetchAirports = (origin, destination) => {\n  return dispatch => {\n    dispatch({ type: REQUEST_AIRPORTS });\n    axios\n      .get(\n        \"https://raw.githubusercontent.com/pro-react/sample-code/master/chapter%206%20(Redux)/aircheap/public/airports.json\"\n      )\n      .then(res => dispatch({ type: RECEIVE_AIRPORTS, payload: res.data }))\n      .catch(err => dispatch({ type: RECEIVE_AIRPORTS, payload: \"Error\" }));\n  };\n};\n\nexport const chooseAirport = (target, airport) => ({\n  type: CHOOSE_AIRPORTS,\n  payload: { target: target, code: airport ? airport.value : \"\" }\n});\n","export const REQUEST_AIRPORTS = \"request airports\";\nexport const RECEIVE_AIRPORTS = \"receive airports\";\nexport const CHOOSE_AIRPORTS = \"choose airports\";\nexport const REQUEST_TICKETS = \"request tickets\";\nexport const RECEIVE_TICKETS = \"receive tickets\";\n","import React from \"react\";\n\nconst Ticket = props => (\n  <>\n    <div className=\"ui divider\" />\n    <div className=\"item\">\n      <div className=\"ui middle aligned grid\">\n        <div className=\"three wide column\">\n          {\" \"}\n          <h4 className=\"ui red large label\">{props.ticket.airline}</h4>{\" \"}\n        </div>\n        <div className=\"four wide column\">\n          <p>\n            <b>{props.ticket.origin}</b>{\" \"}\n            <span className=\"time\">{props.ticket.timeA}</span>\n          </p>{\" \"}\n          <p>{props.ticket.dateA}</p>{\" \"}\n        </div>\n        <div className=\"two wide column\">\n          <i className=\"arrow right icon\" />\n        </div>\n        <div className=\"four wide column\">\n          <p>\n            <b>{props.ticket.destination}</b>{\" \"}\n            <span className=\"time\">{props.ticket.timeB}</span>\n          </p>{\" \"}\n          <p>{props.ticket.dateB}</p>{\" \"}\n        </div>\n        <div className=\"three wide column\">\n          <p class=\"ui red  large right ribbon label\">${props.ticket.price}</p>\n        </div>\n      </div>\n    </div>\n  </>\n);\n\nexport default Ticket;\n","export default function(origin, destination, randomNo) {\n  const airlines = [\n    \"Aviana\",\n    \"Swoka\",\n    \"Dalta\",\n    \"Serene\",\n    \"Ojio\",\n    \"Aeris\",\n    \"Rapsus\"\n  ];\n\n  const airline = airlines[Math.floor(randomNo * 7)];\n  const duration = 10000000 + Math.floor(randomNo * 1500000);\n  const price = 1000 + Math.floor(randomNo * 1000);\n  const d = new Date();\n  const time1 = d.getTime() + Math.floor(randomNo * 12345678);\n  const time2 = time1 + duration;\n\n  const ts1 = new Date(time1);\n  const timeA = ts1.toLocaleTimeString(undefined, {\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  });\n  const dateA = ts1.toLocaleDateString(undefined, {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\"\n  });\n\n  const ts2 = new Date(time2);\n  const timeB = ts2.toLocaleTimeString(undefined, {\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  });\n  const dateB = ts2.toLocaleDateString(undefined, {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\"\n  });\n\n  return {\n    origin,\n    destination,\n    airline,\n    price,\n    timeA,\n    dateA,\n    timeB,\n    dateB\n  };\n}\n","import React, { Component } from \"react\";\nimport Ticket from \"./Ticket\";\nimport { connect } from \"react-redux\";\nimport dummyTicketGenerator from \"../data/dummyTickets\";\n\nclass Tickets extends Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n  }\n  render() {\n    // let ticket = '';\n    let ticketsArray = [];\n    for (let i = 0; i < 3; i++) {\n      const dummy = dummyTicketGenerator(\n        this.props.origin,\n        this.props.destination,\n        Math.random()\n      );\n      if (this.props.origin && this.props.destination) {\n        ticketsArray.push(dummy);\n      }\n    }\n\n    console.log(ticketsArray);\n\n    const tickets = ticketsArray.map(ticket => {\n      return (\n        <div key={ticket.price} className=\"item\">\n          <Ticket ticket={ticket} />\n        </div>\n      );\n    });\n\n    if (tickets.length === 0) {\n      return (\n        <div className=\"message\">\n          Select Origin and Destination Country in order to see offers!\n        </div>\n      );\n    } else {\n      return <div className=\"ui list\">{tickets}</div>;\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  origin: state.route.origin,\n  destination: state.route.destination\n});\n\nexport default connect(mapStateToProps)(Tickets);\n","import React, { Component } from \"react\";\nimport Info from \"./Info\";\nimport Tickets from \"./Tickets\";\n\nclass Wrapper extends Component {\n  render() {\n    return (\n      <div className=\"wrapper ui grid centered\">\n        <div className=\"fourteen wide column\">\n          <div className=\"ui center aligned inverted segment\">\n            <Info />\n            <Tickets />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Wrapper;\n","import { CHOOSE_AIRPORTS } from \"../constants\";\nimport update from \"react-addons-update\";\n\nconst initialState = {\n  origin: \"\",\n  destination: \"\"\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case CHOOSE_AIRPORTS:\n      return update(state, {\n        [action.payload.target]: { $set: action.payload.code }\n      });\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport route from \"./route\";\nimport airports from \"./airports\";\n\nexport default combineReducers({ route, airports });\n","import { RECEIVE_AIRPORTS } from \"../constants\";\n\nexport default function(state = [], action) {\n  switch (action.type) {\n    case RECEIVE_AIRPORTS:\n      // console.log(action.payload) ;\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducers/index\";\nimport { composeWithDevTools } from \"redux-devtools-extension/logOnlyInProduction\";\n\nconst logger = store => next => action => {\n  if (typeof action !== \"function\") {\n    console.log(`dispatching : ${action}`);\n  }\n  return next(action);\n};\n\nconst middleware = [logger, thunk];\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(...middleware)\n    // other store enhancers if any\n  )\n);\n\nexport default store;\n","import React, { Component } from \"react\";\nimport Wrapper from \"./components/Wrapper\";\nimport { Provider } from \"react-redux\";\n\nimport store from \"./store\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Wrapper />\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport \"./styles.css\";\n\nfunction RootApp() {\n  return <App />;\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<RootApp />, rootElement);\n"],"sourceRoot":""}