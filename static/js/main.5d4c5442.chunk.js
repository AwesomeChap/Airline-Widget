(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(83)},79:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),o=a.n(r),c=a(5),l=a(6),s=a(8),u=a(7),m=a(9),d=a(11),p=a(32),h=a.n(p),g=a(19),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleChangeOrigin=function(t){e.setState({origin:t}),e.props.chooseAirport("origin",t)},e.handleChangeDestination=function(t){e.setState({destination:t}),e.props.chooseAirport("destination",t)},e.state={origin:"",destination:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAirports();var e=this.props,t=e.origin,a=e.destination;this.setState({origin:t,destination:a})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"huge space shuttle icon"}),i.a.createElement("h2",null,"Pandora Airlines"),i.a.createElement("div",{className:"ui form"},i.a.createElement("div",{className:"two fields"},i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"ui labeled input"},i.a.createElement("div",{className:"ui red label"},"From"),i.a.createElement(g.a,{className:"select-input",name:"origin",value:this.state.origin,placeholder:"Select Country",options:this.props.airports,onChange:this.handleChangeOrigin}))),i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"ui labeled input"},i.a.createElement("div",{className:"ui red label"}," ",i.a.createElement("span",{className:"T"},"T"),"To",i.a.createElement("span",{className:"T"},"T")),i.a.createElement(g.a,{className:"select-input",name:"destination",value:this.state.destination,placeholder:"Select Country",options:this.props.airports,onChange:this.handleChangeDestination}))))))}}]),t}(n.Component),f=Object(d.b)(function(e){return{airports:e.airports.map(function(e){return{value:e.code,label:"".concat(e.city," - ").concat(e.country," (").concat(e.code,")")}}),origin:e.route.origin,destination:e.route.destination}},{fetchAirports:function(e,t){return function(e){e({type:"request airports"}),h.a.get("https://raw.githubusercontent.com/pro-react/sample-code/master/chapter%206%20(Redux)/aircheap/public/airports.json").then(function(t){return e({type:"receive airports",payload:t.data})}).catch(function(t){return e({type:"receive airports",payload:"Error"})})}},chooseAirport:function(e,t){return{type:"choose airports",payload:{target:e,code:t?t.value:""}}}})(v),E=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ui divider"}),i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"ui middle aligned grid"},i.a.createElement("div",{className:"three wide column"}," ",i.a.createElement("h4",{className:"ui red large label"},e.ticket.airline)," "),i.a.createElement("div",{className:"four wide column"},i.a.createElement("p",null,i.a.createElement("b",null,e.ticket.origin)," ",i.a.createElement("span",{className:"time"},e.ticket.timeA))," ",i.a.createElement("p",null,e.ticket.dateA)," "),i.a.createElement("div",{className:"two wide column"},i.a.createElement("i",{className:"arrow right icon"})),i.a.createElement("div",{className:"four wide column"},i.a.createElement("p",null,i.a.createElement("b",null,e.ticket.destination)," ",i.a.createElement("span",{className:"time"},e.ticket.timeB))," ",i.a.createElement("p",null,e.ticket.dateB)," "),i.a.createElement("div",{className:"three wide column"},i.a.createElement("p",{class:"ui red  large right ribbon label"},"$",e.ticket.price)))))},b=function(e,t,a){var n=["Aviana","Swoka","Dalta","Serene","Ojio","Aeris","Rapsus"][Math.floor(7*a)],i=1e7+Math.floor(15e5*a),r=1e3+Math.floor(1e3*a),o=(new Date).getTime()+Math.floor(12345678*a),c=o+i,l=new Date(o),s=l.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),u=l.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"}),m=new Date(c);return{origin:e,destination:t,airline:n,price:r,timeA:s,dateA:u,timeB:m.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),dateB:m.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"})}},y=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),console.log(e),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<3;t++){var a=b(this.props.origin,this.props.destination,Math.random());this.props.origin&&this.props.destination&&e.push(a)}console.log(e);var n=e.map(function(e){return i.a.createElement("div",{key:e.price,className:"item"},i.a.createElement(E,{ticket:e}))});return 0===n.length?i.a.createElement("div",{className:"message"},"Select Origin and Destination Country in order to see offers!"):i.a.createElement("div",{className:"ui list"},n)}}]),t}(n.Component),N=Object(d.b)(function(e){return{origin:e.route.origin,destination:e.route.destination}})(y),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"wrapper ui grid centered"},i.a.createElement("div",{className:"fourteen wide column"},i.a.createElement("div",{className:"ui center aligned inverted segment"},i.a.createElement(f,null),i.a.createElement(N,null))))}}]),t}(n.Component),j=a(4),w=a(36),k=a(37),C=a(38),S=a.n(C),A={origin:"",destination:""},D=Object(j.combineReducers)({route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"choose airports":return S()(e,Object(k.a)({},t.payload.target,{$set:t.payload.code}));default:return e}},airports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"receive airports":return t.payload;default:return e}}}),T=a(39),M=[function(e){return function(e){return function(t){return"function"!==typeof t&&console.log("dispatching : ".concat(t)),e(t)}}},w.a],B=Object(j.createStore)(D,Object(T.composeWithDevTools)(j.applyMiddleware.apply(void 0,M))),L=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(d.a,{store:B},i.a.createElement(O,null))}}]),t}(n.Component);a(79);var F=document.getElementById("root");o.a.render(i.a.createElement(function(){return i.a.createElement(L,null)},null),F)}},[[41,2,1]]]);
//# sourceMappingURL=main.5d4c5442.chunk.js.map